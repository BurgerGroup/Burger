## 域名

1. 代替ip

2. 标识虚拟主机，决定由哪个虚拟主机对外提供服务

## 域名解析

三层树状，分布式

根，顶级，权威

## 缓存

"野生"DNS服务器，操作系统缓存，hosts文件

```bash
# nginx 有一条配置指令，它就是用来配置DNS服务器
resolver 8.8.8.8 valid = 30s; # 指定google的DNS，缓存30s
```

## 重定向

主机下线，迁移的时候，更改DNS记录，让域名指向其他机器

## 内部服务用域名标记

## 基于域名实现均衡负载

1. 域名解析可以返回多个ip地址，所以一个域名可以对应多台主机，客户端收到多个IP地址后，轮询算法依次向服务器发送请求，实现均衡负载

2. 配置内部策略，返回离客户端最近的主机or返回服务质量最好的主机，这样DNS把请求分发到不同服务器，实现负载均衡

DNS可以实现基于域名的负载均衡，既可以在内网，又可以在外网


