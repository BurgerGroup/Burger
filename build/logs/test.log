2021-03-02 15:11:11 [info] [tid : 123502] [TcpClient_test.cc : 67 <main>] pid = 123502, tid = 123502
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 49 <updateChannel>] fd = 5, events = 3, stauts = kNew
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 5, event = [5: IN PRI ]
2021-03-02 15:11:11 [trace] [tid : 123502] [EventLoop.cc : 63 <EventLoop>] EventLoop created 0x7ffd1150ccc0 
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 49 <updateChannel>] fd = 6, events = 3, stauts = kNew
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 6, event = [6: IN PRI ]
2021-03-02 15:11:11 [debug] [tid : 123502] [Connector.cc : 17 <Connector>] ctor[0x1fbb6e0]
2021-03-02 15:11:11 [info] [tid : 123502] [TcpClient.cc : 39 <TcpClient>] TcpClient::TcpClient[TestClient] - connector 0x1fbb6e0
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 49 <updateChannel>] fd = 0, events = 3, stauts = kNew
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 0, event = [0: IN PRI ]
2021-03-02 15:11:11 [info] [tid : 123502] [TcpClient.cc : 73 <connect>] TcpClient::connect[TestClient] - connecting to 127.0.0.1:8888
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-02 15:11:11 [trace] [tid : 123502] [EventLoop.cc : 90 <loop>] EventLoop 0x7ffd1150ccc0 start looping
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-02 15:11:11 [trace] [tid : 123502] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT HUP ERR  ]
2021-03-02 15:11:11 [trace] [tid : 123502] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT HUP ERR 
2021-03-02 15:11:11 [warning] [tid : 123502] [Channel.cc : 83 <handleEventWithGuard>] fd = 7  Channel::handle_event EPOLLHUP
2021-03-02 15:11:11 [error] [tid : 123502] [Connector.cc : 160 <handleError>] Connector::handleError state= 1
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-02 15:11:11 [trace] [tid : 123502] [Connector.cc : 164 <handleError>] SO_ERROR = 111 -- Connection refused
2021-03-02 15:11:11 [info] [tid : 123502] [Connector.cc : 175 <retry>] Connector::retry - Retry connecting to 127.0.0.1:8888 in 500 milliseconds
2021-03-02 15:11:11 [trace] [tid : 123502] [Connector.cc : 133 <handleWrite>] Connector::handleWrite 0
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-02 15:11:11 [trace] [tid : 123502] [EventLoop.cc : 244 <printActiveChannels>] [ 6: IN  ]
2021-03-02 15:11:11 [trace] [tid : 123502] [Channel.cc : 78 <handleEventWithGuard>] 6: IN 
2021-03-02 15:11:11 [trace] [tid : 123502] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-02 15:11:12 [trace] [tid : 123502] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-02 15:11:12 [trace] [tid : 123502] [EventLoop.cc : 244 <printActiveChannels>] [ 5: IN  ]
2021-03-02 15:11:12 [trace] [tid : 123502] [Channel.cc : 78 <handleEventWithGuard>] 5: IN 
2021-03-02 15:11:12 [trace] [tid : 123502] [TimerQueue.cc : 35 <readTimerfd>] TimerQueue::handleRead 1 at 1614669072.36214
2021-03-02 15:11:12 [trace] [tid : 123502] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-02 15:11:12 [trace] [tid : 123502] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-02 15:11:12 [trace] [tid : 123502] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-02 15:11:12 [trace] [tid : 123502] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-02 15:11:12 [trace] [tid : 123502] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT HUP ERR  ]
2021-03-02 15:11:12 [trace] [tid : 123502] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT HUP ERR 
2021-03-02 15:11:12 [warning] [tid : 123502] [Channel.cc : 83 <handleEventWithGuard>] fd = 7  Channel::handle_event EPOLLHUP
2021-03-02 15:11:12 [error] [tid : 123502] [Connector.cc : 160 <handleError>] Connector::handleError state= 1
2021-03-02 15:11:12 [trace] [tid : 123502] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-02 15:11:12 [trace] [tid : 123502] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-02 15:11:12 [trace] [tid : 123502] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-02 15:11:12 [trace] [tid : 123502] [Connector.cc : 164 <handleError>] SO_ERROR = 111 -- Connection refused
2021-03-02 15:11:12 [info] [tid : 123502] [Connector.cc : 175 <retry>] Connector::retry - Retry connecting to 127.0.0.1:8888 in 1000 milliseconds
2021-03-02 15:11:12 [trace] [tid : 123502] [Connector.cc : 133 <handleWrite>] Connector::handleWrite 0
2021-03-02 15:11:12 [trace] [tid : 123502] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-02 15:11:13 [trace] [tid : 123502] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-02 15:11:13 [trace] [tid : 123502] [EventLoop.cc : 244 <printActiveChannels>] [ 5: IN  ]
2021-03-02 15:11:13 [trace] [tid : 123502] [Channel.cc : 78 <handleEventWithGuard>] 5: IN 
2021-03-02 15:11:13 [trace] [tid : 123502] [TimerQueue.cc : 35 <readTimerfd>] TimerQueue::handleRead 1 at 1614669073.37287
2021-03-02 15:11:13 [trace] [tid : 123502] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-02 15:11:13 [trace] [tid : 123502] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-02 15:11:13 [trace] [tid : 123502] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-02 15:11:13 [trace] [tid : 123502] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-02 15:11:13 [trace] [tid : 123502] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT HUP ERR  ]
2021-03-02 15:11:13 [trace] [tid : 123502] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT HUP ERR 
2021-03-02 15:11:13 [warning] [tid : 123502] [Channel.cc : 83 <handleEventWithGuard>] fd = 7  Channel::handle_event EPOLLHUP
2021-03-02 15:11:13 [error] [tid : 123502] [Connector.cc : 160 <handleError>] Connector::handleError state= 1
2021-03-03 14:56:31 [info] [tid : 15700] [TcpClient_test.cc : 74 <main>] pid = 15700, tid = 15700
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 5, events = 3, stauts = kNew
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 5, event = [5: IN PRI ]
2021-03-03 14:56:31 [trace] [tid : 15700] [EventLoop.cc : 63 <EventLoop>] EventLoop created 0x7ffe134bc8b0 
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 6, events = 3, stauts = kNew
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 6, event = [6: IN PRI ]
2021-03-03 14:56:31 [debug] [tid : 15700] [Connector.cc : 17 <Connector>] ctor[0x268b6e0]
2021-03-03 14:56:31 [info] [tid : 15700] [TcpClient.cc : 39 <TcpClient>] TcpClient::TcpClient[TestClient] - connector 0x268b6e0
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 0, events = 3, stauts = kNew
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 0, event = [0: IN PRI ]
2021-03-03 14:56:31 [info] [tid : 15700] [TcpClient.cc : 73 <connect>] TcpClient::connect[TestClient] - connecting to 127.0.0.1:8888
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-03 14:56:31 [trace] [tid : 15700] [EventLoop.cc : 90 <loop>] EventLoop 0x7ffe134bc8b0 start looping
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:31 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT HUP ERR  ]
2021-03-03 14:56:31 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT HUP ERR 
2021-03-03 14:56:31 [warning] [tid : 15700] [Channel.cc : 83 <handleEventWithGuard>] fd = 7  Channel::handle_event EPOLLHUP
2021-03-03 14:56:31 [error] [tid : 15700] [Connector.cc : 160 <handleError>] Connector::handleError state= 1
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-03 14:56:31 [trace] [tid : 15700] [Connector.cc : 164 <handleError>] SO_ERROR = 111 -- Connection refused
2021-03-03 14:56:31 [info] [tid : 15700] [Connector.cc : 175 <retry>] Connector::retry - Retry connecting to 127.0.0.1:8888 in 500 milliseconds
2021-03-03 14:56:31 [trace] [tid : 15700] [Connector.cc : 133 <handleWrite>] Connector::handleWrite 0
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:31 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 6: IN  ]
2021-03-03 14:56:31 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 6: IN 
2021-03-03 14:56:31 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:56:32 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:32 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 5: IN  ]
2021-03-03 14:56:32 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 5: IN 
2021-03-03 14:56:32 [trace] [tid : 15700] [TimerQueue.cc : 35 <readTimerfd>] TimerQueue::handleRead 1 at 1614754592.366603
2021-03-03 14:56:32 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-03 14:56:32 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-03 14:56:32 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:56:32 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:32 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT HUP ERR  ]
2021-03-03 14:56:32 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT HUP ERR 
2021-03-03 14:56:32 [warning] [tid : 15700] [Channel.cc : 83 <handleEventWithGuard>] fd = 7  Channel::handle_event EPOLLHUP
2021-03-03 14:56:32 [error] [tid : 15700] [Connector.cc : 160 <handleError>] Connector::handleError state= 1
2021-03-03 14:56:32 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-03 14:56:32 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-03 14:56:32 [trace] [tid : 15700] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-03 14:56:32 [trace] [tid : 15700] [Connector.cc : 164 <handleError>] SO_ERROR = 111 -- Connection refused
2021-03-03 14:56:32 [info] [tid : 15700] [Connector.cc : 175 <retry>] Connector::retry - Retry connecting to 127.0.0.1:8888 in 1000 milliseconds
2021-03-03 14:56:32 [trace] [tid : 15700] [Connector.cc : 133 <handleWrite>] Connector::handleWrite 0
2021-03-03 14:56:32 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:56:33 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:33 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 5: IN  ]
2021-03-03 14:56:33 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 5: IN 
2021-03-03 14:56:33 [trace] [tid : 15700] [TimerQueue.cc : 35 <readTimerfd>] TimerQueue::handleRead 1 at 1614754593.368526
2021-03-03 14:56:33 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-03 14:56:33 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-03 14:56:33 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:56:33 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:33 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT HUP ERR  ]
2021-03-03 14:56:33 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT HUP ERR 
2021-03-03 14:56:33 [warning] [tid : 15700] [Channel.cc : 83 <handleEventWithGuard>] fd = 7  Channel::handle_event EPOLLHUP
2021-03-03 14:56:33 [error] [tid : 15700] [Connector.cc : 160 <handleError>] Connector::handleError state= 1
2021-03-03 14:56:33 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-03 14:56:33 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-03 14:56:33 [trace] [tid : 15700] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-03 14:56:33 [trace] [tid : 15700] [Connector.cc : 164 <handleError>] SO_ERROR = 111 -- Connection refused
2021-03-03 14:56:33 [info] [tid : 15700] [Connector.cc : 175 <retry>] Connector::retry - Retry connecting to 127.0.0.1:8888 in 2000 milliseconds
2021-03-03 14:56:33 [trace] [tid : 15700] [Connector.cc : 133 <handleWrite>] Connector::handleWrite 0
2021-03-03 14:56:33 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:56:35 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:35 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 5: IN  ]
2021-03-03 14:56:35 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 5: IN 
2021-03-03 14:56:35 [trace] [tid : 15700] [TimerQueue.cc : 35 <readTimerfd>] TimerQueue::handleRead 1 at 1614754595.369646
2021-03-03 14:56:35 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-03 14:56:35 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-03 14:56:35 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:56:35 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:35 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT HUP ERR  ]
2021-03-03 14:56:35 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT HUP ERR 
2021-03-03 14:56:35 [warning] [tid : 15700] [Channel.cc : 83 <handleEventWithGuard>] fd = 7  Channel::handle_event EPOLLHUP
2021-03-03 14:56:35 [error] [tid : 15700] [Connector.cc : 160 <handleError>] Connector::handleError state= 1
2021-03-03 14:56:35 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-03 14:56:35 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-03 14:56:35 [trace] [tid : 15700] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-03 14:56:35 [trace] [tid : 15700] [Connector.cc : 164 <handleError>] SO_ERROR = 111 -- Connection refused
2021-03-03 14:56:35 [info] [tid : 15700] [Connector.cc : 175 <retry>] Connector::retry - Retry connecting to 127.0.0.1:8888 in 4000 milliseconds
2021-03-03 14:56:35 [trace] [tid : 15700] [Connector.cc : 133 <handleWrite>] Connector::handleWrite 0
2021-03-03 14:56:35 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:56:39 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:39 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 5: IN  ]
2021-03-03 14:56:39 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 5: IN 
2021-03-03 14:56:39 [trace] [tid : 15700] [TimerQueue.cc : 35 <readTimerfd>] TimerQueue::handleRead 1 at 1614754599.371221
2021-03-03 14:56:39 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-03 14:56:39 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-03 14:56:39 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:56:39 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:39 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT HUP ERR  ]
2021-03-03 14:56:39 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT HUP ERR 
2021-03-03 14:56:39 [warning] [tid : 15700] [Channel.cc : 83 <handleEventWithGuard>] fd = 7  Channel::handle_event EPOLLHUP
2021-03-03 14:56:39 [error] [tid : 15700] [Connector.cc : 160 <handleError>] Connector::handleError state= 1
2021-03-03 14:56:39 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-03 14:56:39 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-03 14:56:39 [trace] [tid : 15700] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-03 14:56:39 [trace] [tid : 15700] [Connector.cc : 164 <handleError>] SO_ERROR = 111 -- Connection refused
2021-03-03 14:56:39 [info] [tid : 15700] [Connector.cc : 175 <retry>] Connector::retry - Retry connecting to 127.0.0.1:8888 in 8000 milliseconds
2021-03-03 14:56:39 [trace] [tid : 15700] [Connector.cc : 133 <handleWrite>] Connector::handleWrite 0
2021-03-03 14:56:39 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:56:47 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:47 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 5: IN  ]
2021-03-03 14:56:47 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 5: IN 
2021-03-03 14:56:47 [trace] [tid : 15700] [TimerQueue.cc : 35 <readTimerfd>] TimerQueue::handleRead 1 at 1614754607.373095
2021-03-03 14:56:47 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-03 14:56:47 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-03 14:56:47 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:56:47 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:56:47 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT HUP ERR  ]
2021-03-03 14:56:47 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT HUP ERR 
2021-03-03 14:56:47 [warning] [tid : 15700] [Channel.cc : 83 <handleEventWithGuard>] fd = 7  Channel::handle_event EPOLLHUP
2021-03-03 14:56:47 [error] [tid : 15700] [Connector.cc : 160 <handleError>] Connector::handleError state= 1
2021-03-03 14:56:47 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-03 14:56:47 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-03 14:56:47 [trace] [tid : 15700] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-03 14:56:47 [trace] [tid : 15700] [Connector.cc : 164 <handleError>] SO_ERROR = 111 -- Connection refused
2021-03-03 14:56:47 [info] [tid : 15700] [Connector.cc : 175 <retry>] Connector::retry - Retry connecting to 127.0.0.1:8888 in 16000 milliseconds
2021-03-03 14:56:47 [trace] [tid : 15700] [Connector.cc : 133 <handleWrite>] Connector::handleWrite 0
2021-03-03 14:56:47 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:56:57 [trace] [tid : 15700] [Epoll.cc : 33 <wait>] Nothing happend...
2021-03-03 14:56:57 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:57:01 [trace] [tid : 15792] [Epoll.cc : 49 <updateChannel>] fd = 5, events = 3, stauts = kNew
2021-03-03 14:57:01 [trace] [tid : 15792] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 5, event = [5: IN PRI ]
2021-03-03 14:57:01 [trace] [tid : 15792] [EventLoop.cc : 63 <EventLoop>] EventLoop created 0x7ffd01e82ab0 
2021-03-03 14:57:01 [trace] [tid : 15792] [Epoll.cc : 49 <updateChannel>] fd = 6, events = 3, stauts = kNew
2021-03-03 14:57:01 [trace] [tid : 15792] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 6, event = [6: IN PRI ]
2021-03-03 14:57:01 [trace] [tid : 15792] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 3, stauts = kNew
2021-03-03 14:57:01 [trace] [tid : 15792] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: IN PRI ]
2021-03-03 14:57:01 [trace] [tid : 15792] [EventLoop.cc : 90 <loop>] EventLoop 0x7ffd01e82ab0 start looping
2021-03-03 14:57:01 [trace] [tid : 15792] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:57:03 [trace] [tid : 15792] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:57:03 [trace] [tid : 15792] [EventLoop.cc : 244 <printActiveChannels>] [ 7: IN  ]
2021-03-03 14:57:03 [trace] [tid : 15792] [Channel.cc : 78 <handleEventWithGuard>] 7: IN 
2021-03-03 14:57:03 [trace] [tid : 15792] [Acceptor.cc : 44 <handleRead>] Accept of 127.0.0.1:38836
2021-03-03 14:57:03 [info] [tid : 15792] [TcpServer.cc : 57 <newConnection>] TcpServer::newConnection [TcpServer] - new connection [TcpServer-0.0.0.0:8888#1] from 127.0.0.1:38836 
2021-03-03 14:57:03 [debug] [tid : 15792] [TcpConnection.cc : 40 <TcpConnection>] TcpConnection::ctor[ TcpServer-0.0.0.0:8888#1 ] at 0x208ea80 fd = 9 
2021-03-03 14:57:03 [trace] [tid : 15792] [Epoll.cc : 49 <updateChannel>] fd = 9, events = 3, stauts = kNew
2021-03-03 14:57:03 [trace] [tid : 15792] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 9, event = [9: IN PRI ]
2021-03-03 14:57:03 [trace] [tid : 15792] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:57:03 [trace] [tid : 15792] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:57:03 [trace] [tid : 15792] [EventLoop.cc : 244 <printActiveChannels>] [ 9: IN HUP  ]
2021-03-03 14:57:03 [trace] [tid : 15792] [Channel.cc : 78 <handleEventWithGuard>] 9: IN HUP 
2021-03-03 14:57:03 [trace] [tid : 15792] [TcpConnection.cc : 186 <handleClose>] fd = 9 status = kDisconnecting
2021-03-03 14:57:03 [trace] [tid : 15792] [Epoll.cc : 49 <updateChannel>] fd = 9, events = 0, stauts = kAdded
2021-03-03 14:57:03 [trace] [tid : 15792] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 9, event = [9: ]
2021-03-03 14:57:03 [info] [tid : 15792] [TcpServer.cc : 79 <removeConnectionInLoop>] TcpServer::removeConnectionInLoop [TcpServer] - connection TcpServer-0.0.0.0:8888#1
2021-03-03 14:57:03 [trace] [tid : 15792] [Epoll.cc : 81 <removeChannel>] fd = 9 
2021-03-03 14:57:03 [debug] [tid : 15792] [TcpConnection.cc : 46 <~TcpConnection>] TcpConnection::dtor[ TcpServer-0.0.0.0:8888#1 ] at 0x208ea80 fd = 9 status = kDisconnected 
2021-03-03 14:57:03 [trace] [tid : 15792] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:57:03 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 5: IN  ]
2021-03-03 14:57:03 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 5: IN 
2021-03-03 14:57:03 [trace] [tid : 15700] [TimerQueue.cc : 35 <readTimerfd>] TimerQueue::handleRead 1 at 1614754623.374198
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 4, stauts = kNew
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: OUT ]
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:57:03 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 7: OUT  ]
2021-03-03 14:57:03 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 7: OUT 
2021-03-03 14:57:03 [trace] [tid : 15700] [Connector.cc : 133 <handleWrite>] Connector::handleWrite 1
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-03 14:57:03 [debug] [tid : 15700] [TcpConnection.cc : 40 <TcpConnection>] TcpConnection::ctor[ TestClient:127.0.0.1:8888#1 ] at 0x268dbd0 fd = 7 
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 3, stauts = kNew
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = ADD, fd = 7, event = [7: IN PRI ]
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:57:03 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 7: IN  ]
2021-03-03 14:57:03 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 7: IN 
2021-03-03 14:57:03 [trace] [tid : 15700] [TcpClient_test.cc : 58 <onMessage>] TestClient:127.0.0.1:8888#1 recv 200 bytes at 2021-03-03 14:57:03
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 4
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 27 <wait>] 1 events happended
2021-03-03 14:57:03 [trace] [tid : 15700] [EventLoop.cc : 244 <printActiveChannels>] [ 7: IN  ]
2021-03-03 14:57:03 [trace] [tid : 15700] [Channel.cc : 78 <handleEventWithGuard>] 7: IN 
2021-03-03 14:57:03 [trace] [tid : 15700] [TcpConnection.cc : 186 <handleClose>] fd = 7 status = kConnected
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 49 <updateChannel>] fd = 7, events = 0, stauts = kAdded
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 118 <epollctl>] epoll_ctl op = DEL, fd = 7, event = [7: ]
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 81 <removeChannel>] fd = 7 
2021-03-03 14:57:03 [debug] [tid : 15700] [TcpConnection.cc : 46 <~TcpConnection>] TcpConnection::dtor[ TestClient:127.0.0.1:8888#1 ] at 0x268dbd0 fd = 7 status = kDisconnected 
2021-03-03 14:57:03 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:57:13 [trace] [tid : 15792] [Epoll.cc : 33 <wait>] Nothing happend...
2021-03-03 14:57:13 [trace] [tid : 15792] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:57:13 [trace] [tid : 15700] [Epoll.cc : 33 <wait>] Nothing happend...
2021-03-03 14:57:13 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:57:23 [trace] [tid : 15792] [Epoll.cc : 33 <wait>] Nothing happend...
2021-03-03 14:57:23 [trace] [tid : 15792] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:57:23 [trace] [tid : 15700] [Epoll.cc : 33 <wait>] Nothing happend...
2021-03-03 14:57:23 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:57:33 [trace] [tid : 15792] [Epoll.cc : 33 <wait>] Nothing happend...
2021-03-03 14:57:33 [trace] [tid : 15792] [Epoll.cc : 21 <wait>] fd total count 3
2021-03-03 14:57:33 [trace] [tid : 15700] [Epoll.cc : 33 <wait>] Nothing happend...
2021-03-03 14:57:33 [trace] [tid : 15700] [Epoll.cc : 21 <wait>] fd total count 3
